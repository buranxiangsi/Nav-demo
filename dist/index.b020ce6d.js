const $siteList=$(".siteList"),$lastLi=$siteList.find("li.last"),x=localStorage.getItem("x"),xObject=JSON.parse(x),hashMap=xObject||[],simplifyUrl=s=>s.replace("https://","").replace("http://","").replace("www","").replace(/\/.*/,""),render=()=>{$siteList.find("li:not(.last)").remove(),hashMap.forEach(((s,e)=>{const o=$(`<li>\n            <div class="site">\n                <div class="logo"><img src="https://www.google.com/s2/favicons?sz=64&domain=${simplifyUrl(s.url)}||null"/>\n                </div>\n                \n                <div class="link">${simplifyUrl(s.url)}</div>\n\n                <div class="close">\n                    <svg class="icon">\n                        <use xlink:href="#icon-shanchu"></use>\n                    </svg>\n                \n                </div>\n            </div>\n    </li>`).insertBefore($lastLi);o.on("click",(()=>{window.open(s.url)})),o.on("click",".close",(s=>{s.stopPropagation(),console.log(hashMap),hashMap.splice(e,1),render()}))}))};render(),$(".addButton").on("click",(()=>{console.log(1);let s=window.prompt("请问你要添加的网址是啥？");console.log(s),0!==s.indexOf("http")&&(s="https://"+s),hashMap.push({url:s}),render()})),window.onbeforeunload=()=>{console.log("页面关闭");const s=JSON.stringify(hashMap);localStorage.setItem("x",s)},$(document).on("keypress",(s=>{const{key:e}=s;for(let s=0;s<hashMap.length;s++)hashMap[s].logo.toLowerCase()===e&&window.open(hashMap[s].url)}));
//# sourceMappingURL=index.b020ce6d.js.map
